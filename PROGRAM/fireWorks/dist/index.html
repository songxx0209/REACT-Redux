<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>放烟花开红包</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no">
  <script>
    (function () {
      var urlParams = _GetUrlParams();
      var code = _getCode();
      var activeId = _getActiveId();
      if (code != 0) {
        window.location.href = 'http://weixin.handsight.cn/wx_yh/fireActive.html?activeId=' + activeId;
      } else {
        window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxc10b385bc9169aa6&redirect_uri=http://weixin.handsight.cn/wx_yh/index.html&response_type=code&scope=snsapi_userinfo&state=' + activeId + '#wechat_redirect';
      }
      function _getActiveId() {
        var activeId = urlParams.activeId || localStorage.getItem('YH_activeId') || urlParams.state || 0;
        if (activeId != 0) {
          localStorage.setItem('YH_activeId', activeId);
        }
        return activeId;
      }
      function _getCode() {
        var code = urlParams.code || localStorage.getItem('YH_code') || 0;
        if (code != 0) {
          localStorage.setItem('YH_code', code);
        }
        return code;
      }
      function _GetUrlParams() {
        var url = location.search;
        var theRequest = {};
        if (url.indexOf("?") != -1) {
          var str = url.substr(1);
          strs = str.split("&");
          for (var i = 0; i < strs.length; i++) {
            theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
          }
        }
        return theRequest;
      }
    })();
  </script>
</head>

<body>
</body>

</html>